<!doctype html>
<HTML>
    <head>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-
wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">
        <title>IC2140 IoT Statistics</title>
        <style>html,body,h1,h2,h3,h4,h5 {font-family: "Raleway", sans-serif}</style>
    </head>
    <body>
        <h1 class="display-3 p-3 mb-2 bg-success text-white">IC2140 IoT Statistics</h1>
        <table class="table table-striped table-hover">
            <thead class="table-dark">
                <tr>
                    <th>Sensor ID</th>
                    <th>Location</th>
                    <th>max. Temp</th>
                    <th>min. Temp</th>
                    <th>avg. Temp</th>
                    <th>Last Updated</th>
                </tr>
            </thead>
            <tbody>
                {% for event in events %}
                <tr>
                    <td><strong>{{ event.node_id }}</strong></td>
                    <td><strong>{{ event.node_loc|upper }}</strong></td>
                    
                    {% if event.max_temp < 21 %}
                    <td style="color:blue;"><strong>{{ event.max_temp }}</strong></td>
                    {% elif event.max_temp > 29 %}
                    <td style="color:red;"><strong>{{ event.max_temp }}</strong></td>
                    {% else %}
                    <td><strong>{{ event.max_temp }}</strong></td>
                    {% endif %}
                    
                    {% if event.min_temp < 21 %}
                    <td style="color:blue;"><strong>{{ event.min_temp }}</strong></td>
                    {% elif event.min_temp > 29 %}
                    <td style="color:red;"><strong>{{ event.min_temp }}</strong></td>
                    {% else %}
                    <td><strong>{{ event.min_temp }}</strong></td>
                    {% endif %}
                    
                    {% if event.avg_temp < 21 %}
                    <td style="color:blue;"><strong>{{ event.avg_temp }}</strong></td>
                    {% elif event.avg_temp > 29 %}
                    <td style="color:red;"><strong>{{ event.avg_temp }}</strong></td>
                    {% else %}
                    <td><strong>{{ event.avg_temp }}</strong></td>
                    {% endif %}
                    
                    <td><strong>{{ event.last_updated }}</strong></td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </body>
</HTML>
